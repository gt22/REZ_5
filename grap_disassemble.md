# Считаем `malloc`-и

На macOS самый простой способ дизассмблирования - `otool`.

Запускаем `otool -Vt /usr/bin/grep > grep.asm`

* `-V` - дизассемблируем символы, и выводим во что дизассемблировались, в том числе операнды
* `-t` - дизассемблируем секцию `__TEXT`

Смотрим в `grep.asm`, и находим вызов `malloc` (точнее, `_malloc`) по адресу `0x1000031f2`, и он всего один.

Посмотрев на контекст, понимаем что это функция-обёртка начинающаяся на `0x1000031ee`, и поискав вызовы этого адреса, находим 8 вызовов

Значит, ответ - либо 1 либо 8, в зависимости от того, как считаем функции-обёртки.